# 小约定App - 功能架构设计

## 一、首页设计

### 顶部轮播
- 展示推荐模板（情侣约定、亲子任务、自律目标）
- 动态展示热门约定类型
- 节日/季节性模板推荐

### 快速入口
- 一键发起新约定按钮，放置中间
- 醒目的主色调设计
- 长按可选择模板快速创建

### 我的快捷区
- 展示今日需执行的约定卡片（可打卡）
- 约定倒计时显示
- 快速打卡入口
- 进度可视化展示

### 通知提醒
- 右上角通知图标
- 未读消息红点提示
- 下拉快速查看

## 二、创建约定页

### 创建模式选择
- **默认：AI快速创建** 🚀
  - 一句话输入框（支持语音）
  - 示例提示：「我要和女朋友一起学英语」
  - 智能键盘推荐常用短语
- **高级：手动创建** 📝
  - 传统表单模式
  - 适合复杂定制需求

### AI快速创建流程

#### 第一步：自然语言输入
- **输入方式**：
  - 文字输入（智能联想）
  - 语音输入（实时转文字）
  - 图片识别（截图转约定）
- **快捷模板按钮**：
  - 📚 学习计划
  - 💪 健身目标
  - 💑 情侣约定
  - 👨‍👩‍👧 家庭任务
  - 🎯 个人目标

#### 第二步：AI解析展示
- **解析结果卡片**：
  - ✅ 已识别信息（绿色标记）
  - ❓ 待补充信息（橙色标记）
  - 💡 AI建议（可选采纳）

#### 第三步：一次性补充
- **所有待补充项平铺展示**：
  - 不采用多步对话
  - 一屏展示所有选项
  - 每项都有默认建议值
- **补充项分组**：
  - 基础信息组
  - 执行计划组
  - 提醒设置组
  - 高级选项组（折叠）
- **交互组件**：
  - 快捷选项芯片
  - 滑块选择器
  - 时间选择器
  - 开关切换

#### 第四步：智能生成
- **自动生成内容**：
  - 里程碑拆分
  - TODO列表
  - 提醒计划
  - 打卡要求
- **预览确认**：
  - 完整约定预览
  - 可快速编辑
  - 一键创建

### 手动创建模式

#### 表单填写
- 约定标题（必填）
- 参与人选择
- 截止时间设置
- 执行频率选择
- 证据要求配置

#### AI优化提示
- **可选的AI建议**：
  - 💡 图标提示可优化项
  - 点击查看具体建议
  - 一键应用建议
- **建议内容**：
  - 补充缺失信息
  - 优化表达方式
  - 推荐相似模板

### 关系类型处理
- **自动识别**：
  - 根据参与人数量判断
  - 1人→个人目标
  - 2人→双人关系
  - 多人→团队关系
- **智能推荐**：
  - 基于历史记录
  - 基于通讯录备注
  - 基于约定内容
- **自定义选项**：
  - 可创建新关系类型
  - 自定义名称和图标
  - 选择主题颜色

## 三、约定详情页

### 头部信息展示
- 约定状态标签（进行中/已完成/已暂停等）
- 倒计时展示（天/时/分）
- 参与者头像列表
- 快速操作按钮组

### 执行进展
- 时间轴展示打卡记录
- 用户打卡入口
- 上传图片或文字功能
- 进度百分比可视化

### 证据上传系统
- **图片证据**：
  - 拍照/相册选择
  - 支持多张（最多9张）
  - 图片压缩优化
  - 自动添加水印时间戳
- **文字说明**：
  - 补充描述执行情况
  - 字数限制提示
  - 敏感词过滤
- **语音记录**：
  - 快速录音说明（60秒内）
  - 语音转文字显示
  - 波形动画展示
- **位置信息**：
  - 可选的地理位置证明
  - 地图展示定位点
  - 隐私保护选项

### 见证人反馈
- 见证人评论区
- 点赞/鼓励功能
- 见证确认按钮
- 反馈时间记录

### 操作权限
- 修改按钮（仅限特定状态）
- 暂停/恢复执行
- 申请延期功能
- 终止约定选项

## 四、我的页面

### 关系分组展示
- **情侣约定区域**：
  - 💕标识，粉色主题
  - 甜蜜度数据展示
  - 情侣专属成就
- **亲子约定区域**：
  - 👨‍👩‍👧‍👦标识，温馨主题  
  - 成长记录展示
  - 教育成果统计
- **朋友约定区域**：
  - 👥标识，活力主题
  - 默契度展示
  - 共同挑战记录
- **个人目标区域**：
  - 🎯标识，专注主题
  - 自律数据统计
  - 个人成就墙

### 约定管理
- **进行中约定**：
  - 按关系类型分组
  - 优先级排序
  - 今日待办高亮
- **已完成约定归档**：
  - 按时间排序
  - 按类型分类
  - 按关系筛选
  - 搜索功能

### AI助手入口
- 自然语言输入框
- 快速生成草稿约定
- 历史对话记录
- 常用语句推荐

### 关系管理
- 添加/编辑联系人关系标签
- 关系亲密度展示
- 互动频率统计
- 关系里程碑记录

### 个人中心
- 头像昵称展示
- 履约星级显示
- 个人数据统计
- 设置入口

## 五、通知中心页

### 系统提醒
- 执行时间提醒
- 到期预警提醒
- 见证人反馈提醒
- 约定状态变更通知

### 历史通知
- 7天内通知列表
- 已读/未读状态
- 分类筛选功能
- 批量操作选项

### 通知设置入口
- 快速跳转设置页
- 免打扰模式开关
- 通知类型筛选